# โจทย์: ระบบจัดการสต็อกสินค้าและยอดขายร้านผลไม้สด (Fresh Fruit Stock & Sales)

คุณจะสร้างโปรแกรมสำหรับจัดการสต็อกและยอดขายของร้านผลไม้สดเล็กๆ แห่งหนึ่ง โดยมีขั้นตอนดังนี้ครับ:

#### **ส่วนที่ 1: การตั้งค่าสต็อกสินค้า (Initial Stock Setup)**

1.  **กำหนดประเภทผลไม้:** ร้านมีผลไม้หลักๆ 3 ประเภท:
    
    -   ผักใบ (Leafy Greens)
        
    -   ผลไม้เนื้อ (Fleshy Fruits)
        
    -   ผลไม้ตระกูลเบอร์รี่ (Berries)
        
2.  **กำหนดชื่อผลไม้ในแต่ละประเภท:**
    
    -   **ผักใบ:** คะน้า, ผักบุ้ง, กะหล่ำปลี, ผักกาด
        
    -   **ผลไม้เนื้อ:** มะม่วง, กล้วย, ส้ม, แตงโม
        
    -   **ผลไม้ตระกูลเบอร์รี่:** สตรอว์เบอร์รี, บลูเบอร์รี, ราสเบอร์รี, แครนเบอร์รี
        
3.  **เก็บข้อมูลในอาร์เรย์ 2 มิติ:**
    
    -   สร้างอาร์เรย์ 2 มิติสำหรับเก็บชื่อผลไม้แต่ละชนิด
        
    -   สร้างอาร์เรย์ 2 มิติสำหรับเก็บ **ราคาต่อกิโลกรัม** ของแต่ละผลไม้ (เช่น intprices[MAX_CATEGORIES][MAX_PRODUCTS_PER_CATEGORY];)
        
    -   สร้างอาร์เรย์ 2 มิติสำหรับเก็บ **จำนวนสต็อกเริ่มต้น (เป็นกิโลกรัม)** ของแต่ละผลไม้ (เช่น intstock[MAX_CATEGORIES][MAX_PRODUCTS_PER_CATEGORY];)
        
    -   สร้างอาร์เรย์ 1 มิติสำหรับเก็บชื่อประเภทผลไม้ (เช่น $char\*\\ categories[]$)
        
4.  **ฟังก์ชัน `setup_stock_and_prices()`:**
    
    -   เขียนฟังก์ชันนี้เพื่อ **รับข้อมูลราคาและสต็อกเริ่มต้น** จากผู้ใช้สำหรับผลไม้ทุกชนิด (ใช้ลูป for ซ้อน for เพื่อรับข้อมูล)
        
    -   **เงื่อนไข:** ราคาและสต็อกต้องมากกว่า 0 เสมอ (ใช้ do−while เพื่อตรวจสอบ)
        
    -   ฟังก์ชันนี้จะไม่มีค่าส่งกลับ แต่จะแก้ไขค่าในอาร์เรย์ prices และ stock โดยตรง
        

#### **ส่วนที่ 2: การแสดงผลและอัปเดตสต็อก (Display & Update Stock)**

1.  **ฟังก์ชัน `display_all_products_with_stock()`:**
    
    -   เขียนฟังก์ชันนี้เพื่อ **แสดงรายการผลไม้ทั้งหมด** พร้อมทั้ง **ราคา** และ **จำนวนสต็อกปัจจุบัน** ให้ผู้ใช้เห็นอย่างชัดเจน (ใช้ลูป for ซ้อน for)
        
    -   **ตัวอย่างการแสดงผล:**
        
        ```
        --- รายการผลไม้ในร้าน ---
        [0] ผักใบ:
          0. คะน้า (ราคา: 30 บาท/กก. | สต็อก: 15 กก.)
          1. ผักบุ้ง (ราคา: 25 บาท/กก. | สต็อก: 20 กก.)
        ...
        
        ```
        
2.  **ฟังก์ชัน `update_stock()`:**
    
    -   เขียนฟังก์ชันนี้เพื่อให้ผู้ใช้สามารถ **เพิ่มสต็อก** ของผลไม้ชนิดใดก็ได้
        
    -   ให้ผู้ใช้เลือกประเภทผลไม้ (Category ID) และชื่อผลไม้ (Product ID)
        
    -   ให้ผู้ใช้ป้อนจำนวนกิโลกรัมที่ต้องการเพิ่ม
        
    -   **เงื่อนไข:** จำนวนที่เพิ่มต้องมากกว่า 0
        
    -   แสดงสต็อกใหม่ของผลไม้นั้นหลังจากการอัปเดต
        

#### **ส่วนที่ 3: ระบบการขาย (Sales System)**

1.  **ฟังก์ชัน `process_sale()`:**
    
    -   เขียนฟังก์ชันนี้เพื่อจำลองการขายสินค้า
        
    -   ผู้ใช้สามารถ **เลือกประเภทผลไม้** (Category ID) และ **ชื่อผลไม้** (Product ID) ที่ต้องการซื้อ
        
    -   ผู้ใช้ป้อน **จำนวนกิโลกรัมที่ต้องการซื้อ**
        
    -   **เงื่อนไขสำคัญ:**
        
        -   จำนวนที่ซื้อต้องมากกว่า 0
            
        -   **ต้องตรวจสอบว่าสต็อกมีเพียงพอหรือไม่** ถ้าสต็อกไม่พอ ให้แสดงข้อความว่า "สต็อกไม่พอ" และไม่ลดจำนวนสต็อก หรือแสดงสต็อกที่เหลืออยู่และถามว่าจะซื้อเท่าที่มีไหม
            
    -   ถ้าสต็อกพอ ให้ **ลดจำนวนสต็อก** ลง และ **คำนวณราคารวมของรายการนั้น**
        
    -   สะสมยอดราคารวมของบิลนี้ในตัวแปร current_bill_total
        
    -   สะสมจำนวนสินค้าแต่ละชนิดที่ขายได้ (เช่น สร้างอาร์เรย์ 2 มิติสำหรับเก็บยอดขาย total_items_sold[Category][Product])
        
    -   โปรแกรมจะวนลูปให้ผู้ใช้ซื้อสินค้าไปเรื่อยๆ จนกว่าจะป้อน `-1` เพื่อจบการขายบิลนี้ (ใช้ while loop)
        
    -   ฟังก์ชันนี้จะส่งกลับค่า **ราคารวมของบิลนี้**
        

#### **ส่วนที่ 4: สรุปยอดขายประจำวัน (Daily Sales Summary)**

1.  **ฟังก์ชัน `generate_daily_report()`:**
    
    -   เขียนฟังก์ชันนี้เพื่อแสดง **สรุปยอดขายประจำวันทั้งหมด** (ไม่ใช่แค่บิลเดียว)
        
    -   แสดงรายการผลไม้แต่ละชนิดที่ถูกขายไปทั้งหมด (จาก total_items_sold)
        
    -   แสดง **รายได้รวมทั้งหมด** ที่ได้จากการขายทุกบิล
        
    -   แสดง **สต็อกคงเหลือปัจจุบัน** ของผลไม้ทุกชนิดหลังจากที่มีการขายไป
        

----------

### **แนวคิดในการสร้าง:**

-   **Main Function:** จะเป็นตัวควบคุมหลักในการเรียกใช้ฟังก์ชันย่อยต่างๆ (เช่น `setup_stock_and_prices()`, `process_sale()` ซ้ำๆ, `generate_daily_report()`)
    
-   **Constants:** ใช้ `#define` สำหรับ MAX_CATEGORIES, MAX_PRODUCTS_PER_CATEGORY
    
-   **Global Variables (หรือส่งผ่าน Pointer):** เพื่อให้ฟังก์ชันต่างๆ เข้าถึงและแก้ไขค่าในอาร์เรย์ prices, stock, และ total_items_sold ได้ อาจจะประกาศเป็น Global หรือส่ง Address (Pointer) ของอาร์เรย์ไปให้ฟังก์ชันครับ
    
-   **ลูปและเงื่อนไข:** คุณจะได้ใช้ for loop, do−while loop, while loop และ if−else เพื่อจัดการการไหลของโปรแกรมและตรวจสอบข้อมูล
    

โจทย์นี้จะบังคับให้คุณใช้:

-   **อาร์เรย์ 1 มิติ:** สำหรับชื่อประเภทผลไม้
    
-   **อาร์เรย์ 2 มิติ:** สำหรับชื่อผลไม้, ราคา, สต็อก, และยอดขาย
    
-   **ลูปทุกแบบ:** ในการรับข้อมูล, แสดงผล, และประมวลผลการขาย
    
-   **ฟังก์ชัน:** แบ่งการทำงานเป็นส่วนๆ
    

----------