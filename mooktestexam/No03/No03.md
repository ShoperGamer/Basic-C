## โจทย์: ระบบจัดการเมนูอาหารและคำนวณราคาสำหรับร้านกาแฟ/ร้านอาหารเล็กๆ

**สถานการณ์:** คุณกำลังพัฒนาระบบง่ายๆ ให้กับร้านกาแฟเล็กๆ แห่งหนึ่ง เพื่อช่วยในการจัดการเมนูและคำนวณราคาออเดอร์ของลูกค้า

**ข้อมูลเริ่มต้น:**

-   **หมวดหมู่เมนู:** มี 3 หมวดหมู่หลัก ได้แก่ "กาแฟ", "ชา", "ขนม"
    
-   **จำนวนสินค้าในแต่ละหมวดหมู่:** แต่ละหมวดหมู่มีสินค้าได้สูงสุด 4 รายการ
    
-   **ส่วนลด:** มีระบบส่วนลดแบบง่ายๆ
    

**เป้าหมายของโปรแกรม:**

โปรแกรมของคุณจะต้องทำงานเป็น 3 ขั้นตอนหลักๆ (ซึ่งจะนำไปสู่คำตอบ 3 ครั้ง)

----------

**ขั้นตอนที่ 1: การตั้งค่าเมนูและราคา (คำตอบที่ 1)**

โปรแกรมจะต้อง:

1.  **รับชื่อเมนูและราคาต่อหน่วย:**
    
    -   วนลูปรับข้อมูลสำหรับ **แต่ละหมวดหมู่** (กาแฟ, ชา, ขนม)
        
    -   ในแต่ละหมวดหมู่ ให้วนลูปรับ **ชื่อสินค้า (เป็น String สั้นๆ เช่น "ลาเต้", "ชาเขียว", "เค้กช็อกโกแลต")** และ **ราคาต่อหน่วย (เป็นจำนวนเต็ม)** สำหรับสินค้าแต่ละรายการ (สูงสุด 4 รายการต่อหมวดหมู่)
        
    -   **ใช้ Array 2 มิติ** สำหรับเก็บราคาของเมนูแต่ละรายการ (เช่น `prices[category_index][product_index]`)
        
    -   **ใช้ Array 2 มิติ (หรืออาจจะ Array 1 มิติของ String) คู่กัน** เพื่อเก็บชื่อเมนู (เช่น `menuNames[category_index][product_index]`)
        
    -   **มีการตรวจสอบข้อมูล (Input Validation):**
        
        -   ราคาต้องเป็นจำนวนเต็มบวกเท่านั้น (มากกว่า 0)
            
        -   ชื่อเมนูต้องไม่ว่างเปล่า
            
2.  **แสดงผลเมนูและราคาที่ตั้งค่าไว้ทั้งหมด:**
    
    -   หลังจากรับข้อมูลครบแล้ว ให้แสดงตารางสรุปเมนูทั้งหมดในร้าน โดยแยกตามหมวดหมู่ พร้อมราคา
        

**ตัวอย่างการแสดงผล (คำตอบที่ 1):**

```
--- เมนูและราคาที่ตั้งค่าไว้ ---
หมวดหมู่: กาแฟ
  1. ลาเต้     ราคา: 65 บาท
  2. คาปูชิโน  ราคา: 60 บาท
  3. อเมริกาโน ราคา: 55 บาท
  4. มอคค่า    ราคา: 70 บาท

หมวดหมู่: ชา
  1. ชาเขียว    ราคา: 50 บาท
  2. ชาดำเย็น  ราคา: 45 บาท
  3. ชามะนาว   ราคา: 55 บาท
  4. ชานมไข่มุก ราคา: 65 บาท

หมวดหมู่: ขนม
  1. เค้กช็อกโกแลต ราคา: 80 บาท
  2. บราวนี่       ราคา: 75 บาท
  3. คุกกี้         ราคา: 30 บาท
  4. วาฟเฟิล       ราคา: 90 บาท
----------------------------------

```

----------

**ขั้นตอนที่ 2: การรับออเดอร์และคำนวณราคารวม (คำตอบที่ 2)**

โปรแกรมจะต้อง:

1.  **รับออเดอร์จากลูกค้า:**
    
    -   วนลูปรับออเดอร์ไปเรื่อยๆ จนกว่าลูกค้าจะป้อนรหัสหยุด (เช่น ป้อน -1 สำหรับหมวดหมู่)
        
    -   ในแต่ละออเดอร์ ให้รับ **รหัสหมวดหมู่ (0-2)**, **รหัสสินค้า (0-3)** และ **จำนวนที่สั่ง**
        
    -   **ใช้ Array 1 มิติ** เพื่อเก็บจำนวนรวมของสินค้าแต่ละรายการที่ถูกสั่งไปในออเดอร์นี้ (เช่น `orderQuantities[product_index]`) หรือจะใช้ Array 2 มิติ `orderQuantities[category_index][product_index]` ก็ได้ (แล้วแต่คุณจะออกแบบ)
        
    -   **มีการตรวจสอบข้อมูล (Input Validation):**
        
        -   รหัสหมวดหมู่/สินค้าต้องถูกต้องตามช่วงที่กำหนด
            
        -   จำนวนที่สั่งต้องเป็นจำนวนเต็มบวก (มากกว่า 0)
            
2.  **คำนวณราคารวมของออเดอร์ปัจจุบัน:**
    
    -   สำหรับแต่ละรายการที่สั่ง ให้ดึงราคาจาก Array `prices` ที่ตั้งค่าไว้ในขั้นตอนที่ 1
        
    -   คำนวณราคารวมของออเดอร์นั้นๆ
        
    -   แสดงราคารวมของแต่ละรายการที่สั่ง และราคารวมทั้งหมดของออเดอร์ปัจจุบัน
        
3.  **สะสมยอดรวมของสินค้าแต่ละชนิดที่ขายได้ในออเดอร์นี้:**
    
    -   **ใช้ Array 2 มิติ** (เช่น `totalItemsSold[category_index][product_index]`) เพื่อสะสมจำนวนสินค้าแต่ละชนิดที่ขายได้ในออเดอร์นี้ (จะนำไปใช้ในขั้นตอนที่ 3)
        

**ตัวอย่างการป้อนข้อมูลและการแสดงผล (คำตอบที่ 2):**

```
--- รับออเดอร์ ---
ป้อนรหัสหมวดหมู่ (0-2, -1 เพื่อจบ): 0
ป้อนรหัสสินค้า (0-3): 0
ป้อนจำนวน: 2
  -> สั่ง 'ลาเต้' 2 แก้ว ราคา: 130 บาท

ป้อนรหัสหมวดหมู่ (0-2, -1 เพื่อจบ): 1
ป้อนรหัสสินค้า (0-3): 1
ป้อนจำนวน: 1
  -> สั่ง 'ชาดำเย็น' 1 แก้ว ราคา: 45 บาท

ป้อนรหัสหมวดหมู่ (0-2, -1 เพื่อจบ): -1
----------------------------------
ยอดรวมออเดอร์ปัจจุบัน: 175 บาท

```

----------

**ขั้นตอนที่ 3: การคำนวณราคาสุทธิพร้อมส่วนลด และสรุปยอดขาย (คำตอบที่ 3)**

โปรแกรมจะต้อง:

1.  **คำนวณส่วนลด (ถ้ามี):**
    
    -   หลังจากจบการรับออเดอร์ทั้งหมด (เมื่อป้อน -1) ให้ถามลูกค้าว่ามีรหัสส่วนลดหรือไม่
        
    -   ถ้าลูกค้าป้อนรหัสส่วนลด "SAVE10" ให้ลดราคา 10% จากยอดรวมออเดอร์
        
    -   ถ้าป้อนรหัสส่วนลด "BUY2GET100" และยอดรวมออเดอร์มากกว่า 200 บาท ให้ลด 100 บาท (สมมติว่ารหัสนี้ใช้ได้แค่ครั้งเดียวต่อออเดอร์)
        
    -   ถ้าป้อนรหัสอื่น หรือไม่มีส่วนลด ก็ไม่ต้องลดราคา
        
    -   **ใช้ `if-else if-else` หรือ `switch-case`** ในการตรวจสอบรหัสส่วนลด
        
2.  **แสดงราคาสุทธิหลังหักส่วนลด:**
    
3.  **แสดงสรุปยอดขายสินค้าแต่ละชนิดทั้งหมดที่ขายได้ในออเดอร์นี้:**
    
    -   ใช้ข้อมูลจาก Array `totalItemsSold` ที่สะสมไว้ในขั้นตอนที่ 2
        
    -   แสดงว่าขายสินค้าอะไรไปกี่ชิ้นบ้าง (ไม่จำเป็นต้องแสดงราคา)
        

**ตัวอย่างการป้อนข้อมูลและการแสดงผล (คำตอบที่ 3):**

```
--- สรุปออเดอร์และส่วนลด ---
ยอดรวมก่อนหักส่วนลด: 175 บาท
ป้อนรหัสส่วนลด (เว้นว่างหากไม่มี): SAVE10
ยอดรวมหลังหักส่วนลด: 157.50 บาท  // 175 * 0.9 = 157.5

--- สรุปยอดขายสินค้าทั้งหมดในออเดอร์นี้ ---
หมวดหมู่: กาแฟ
  ลาเต้: 2 แก้ว
หมวดหมู่: ชา
  ชาดำเย็น: 1 แก้ว
--------------------------------------------
ขอบคุณที่ใช้บริการ!

```

----------

### **คำแนะนำเพิ่มเติม:**

-   **Constants:** ใช้ `#define` สำหรับ `MAX_CATEGORIES` และ `MAX_PRODUCTS_PER_CATEGORY` เหมือนเดิม
    
-   **Functions:** พยายามแบ่งโค้ดออกเป็นฟังก์ชันย่อยๆ เช่น:
    
    -   `setupMenu()`: สำหรับขั้นตอนที่ 1
        
    -   `takeOrder()`: สำหรับขั้นตอนที่ 2
        
    -   `applyDiscountAndSummarize()`: สำหรับขั้นตอนที่ 3
        
-   **String Handling:** การรับชื่อเมนู (String) อาจจะต้องใช้ `fgets` แทน `scanf` เพื่อป้องกันปัญหาเรื่องช่องว่าง และต้องระวังเรื่องขนาดของ Array สำหรับ String
    
-   **Loop Types:**
    
    -   `for` loop: เหมาะสำหรับวนลูปจำนวนรอบที่แน่นอน (เช่น การตั้งค่าเมนู, การแสดงผลตาราง)
        
    -   `while` loop: เหมาะสำหรับวนลูปที่ไม่รู้จำนวนรอบที่แน่นอน (เช่น การรับออเดอร์จนกว่าจะป้อน -1)
        
    -   `do-while` loop: เหมาะสำหรับ Input Validation (รับข้อมูลและตรวจสอบเงื่อนไขอย่างน้อย 1 ครั้ง)
        
        แน่นอนครับ! เข้าใจเลยว่าอยากได้โจทย์ที่ใกล้ตัว มีการคิดเป็นลำดับขั้น และได้ใช้ทั้งลูปและ Array ทั้ง 1 และ 2 มิติ ในระดับที่ยังไม่ยากเกินไปครับ

นี่คือโจทย์ที่คุณสามารถนำไปฝึกได้ครับ:

----------


ยอดเยี่ยมเลยครับ! การฝึกโจทย์แบบค่อยๆ พัฒนาไปทีละขั้นแบบนี้จะช่วยให้คุณเข้าใจหลักการได้ดีขึ้นมาก และยังได้ใช้ฟังก์ชันและลูปแบบต่างๆ รวมถึงอาร์เรย์ทั้ง 1 มิติและ 2 มิติด้วย

ผมมีโจทย์ที่น่าจะตอบโจทย์คุณได้ครับ เป็นแนว "ระบบจัดการสต็อกสินค้าในร้านเล็กๆ" ที่คุณน่าจะคุ้นเคยดีครับ

----------